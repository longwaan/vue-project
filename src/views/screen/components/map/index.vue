<script setup lang="ts">
import { onMounted, ref } from 'vue';
import * as echarts from 'echarts';
//引入中国地图的JSON数据
import chinaJson from './china.json';
//获取DOM元素
let map = ref();
echarts.registerMap('china', chinaJson as any);
//组件挂载完毕初始化图形图标
onMounted(() => {
    let mychart = echarts.init(map.value)
    //设置配置项
    mychart.setOption({
        //地图组件
        geo: {
            map: 'china',//中国地图
            roam: true,//鼠标缩放的效果
            //地图的位置调试
            left: 150,
            top: 150,
            right: 150,
            bootom: 150,
            //地图上的文字的设置
            label: {
                show: true,
                color: '#fff',
                fontSize: 14,
            },
            itemStyle: {
                // 每一个多边形的样式
                color: {
                    type: 'linear',
                    x: 0,
                    y: 0,
                    x2: 0,
                    y2: 1,
                    colorStops: [
                        {
                            offset: 0,
                            color: '#002F7E', // 0% 处的颜色
                        },
                        {
                            offset: 1,
                            color: '#002259', // 100% 处的颜色
                        },
                    ],
                    global: false, // 缺省为 false
                },
                borderColor: "#1E80A3",
                borderWidth: 1,
                shadowColor: '#1E80A9',
                shadowBlur: 2,
                shadowOffsetX: -3,
                shadowOffsetY: 3,
                opacity: 0.9,
            },
            emphasis: {
                itemStyle: {
                    color: 'skyblue',
                },
                focus: 'self',
                label: {
                    fontSize: 20,
                }
            }

        },
        //布局位置
        grid: {
            left: 0,
            right: 0,
            top: 0,
            bottom: 0,
        },
        series: [
            {
                type: 'lines',
                data: [
                    {
                        coords: [
                            [116.405285, 39.904989],//起点
                            [119.306239, 26.075302],//终点

                        ],

                        //统一的样式设置
                        lineStyle: {
                            color: 'white',
                            width: 2,
                            curveness:0.15,

                        },

                    }
                ],

                //开启动画特效
                effect: {
                    show: true,
                    // period: 6,
                    // trailLength: 0.7,
                    color: 'white',
                    symbol: 'path://M 710.684 957.19 c -1.61989 0 -3.249 -0.191358 -4.8607 -0.582261 c -7.05058 -1.71404 -12.6767 -7.01374 -14.8062 -13.9477 L 574.783 564.385 L 435.986 682.002 l 1.68027 204.553 c 0.044002 5.45115 -2.07629 10.6997 -5.89834 14.5872 l -34.3616 34.9766 c -4.89857 4.98657 -11.9952 7.14677 -18.8391 5.73052 c -6.84592 -1.41421 -12.5048 -6.20635 -15.0273 -12.7269 l -74.3729 -192.262 l -199.609 -85.7428 c -6.22784 -2.67595 -10.7386 -8.2458 -12.0597 -14.8942 c -1.32109 -6.64842 0.716314 -13.5199 5.44808 -18.3745 l 34.2235 -35.1014 c 4.11778 -4.22114 9.86569 -6.46525 15.7384 -6.18691 l 209.368 10.2535 l 117.924 -144.683 L 79.2888 321.167 c -6.80908 -2.16429 -12.0095 -7.70345 -13.7358 -14.6353 c -1.72836 -6.93188 0.264013 -14.2639 5.26184 -19.3691 l 65.3862 -66.781 c 4.37463 -4.46673 10.5431 -6.69652 16.7628 -6.07844 l 469.724 47.2952 l 133.107 -133.417 c 53.0175 -53.6386 103.834 -62.0584 129.411 -62.0584 c 0.12689 0 0.252757 0 0.379647 0 c 23.7428 0 44.7318 7.025 56.2041 18.4963 c 27.704 27.7029 26.3286 106.727 -48.3021 182.863 c -0.052189 0.054235 -0.104377 0.155543 -0.158612 0.207731 L 759.047 401.755 l 37.5707 466.418 c 0.477884 5.93927 -1.64138 11.8008 -5.81033 16.0557 l -65.4251 66.782 C 721.464 955.009 716.146 957.19 710.684 957.19 Z M 585.288 507.942 c 1.93303 0 3.87731 0.271176 5.78066 0.829901 c 6.63614 1.94326 11.853 7.09049 13.8842 13.701 l 115.24 375.039 l 34.6553 -35.3726 l -37.5809 -466.544 c -0.484024 -6.02011 1.69971 -11.9471 5.97304 -16.2122 l 140.944 -140.691 c 34.5826 -35.3102 46.759 -66.2949 50.8819 -86.0744 c 5.08174 -24.3792 -0.685615 -36.9178 -2.38533 -38.7147 c -7.57247 -7.45581 -65.0291 -19.9668 -127.677 43.4567 c -0.026606 0.027629 -0.054235 0.056282 -0.082888 0.083911 L 644.896 297.59 c -4.36645 4.37054 -10.4664 6.55018 -16.6164 5.92699 l -469.596 -47.2798 l -35.0779 35.827 l 377.883 120.004 c 6.4939 2.06401 11.5449 7.20305 13.4902 13.7328 c 1.94735 6.52767 0.534166 13.5946 -3.76781 18.8749 L 367.604 620.872 c -4.13006 5.06946 -10.4183 7.86001 -16.9552 7.55302 l -210.49 -10.3078 l -6.83978 7.01476 l 180.036 77.3333 c 5.08379 2.18373 9.07263 6.32301 11.0691 11.4825 l 65.9848 170.579 l 6.03853 -6.14598 l -1.68846 -205.676 c -0.050142 -6.10607 2.61352 -11.9184 7.27264 -15.8653 l 169.953 -144.018 C 575.748 509.629 580.478 507.942 585.288 507.942 Z',
                    symbolSize: 18,
                },
            },
            {
                type: 'lines',
                data: [
                    {
                        coords: [
                            [116.405285, 39.904989],//起点
                            [102.712251, 25.040609],//终点

                        ],

                        //统一的样式设置
                        lineStyle: {
                            color: 'white',
                            width: 2,
                            curveness:0.15,

                        },

                    }
                ],

                //开启动画特效
                effect: {
                    show: true,
                    // period: 6,
                    // trailLength: 0.7,
                    color: 'white',
                    symbol: 'path://M 710.684 957.19 c -1.61989 0 -3.249 -0.191358 -4.8607 -0.582261 c -7.05058 -1.71404 -12.6767 -7.01374 -14.8062 -13.9477 L 574.783 564.385 L 435.986 682.002 l 1.68027 204.553 c 0.044002 5.45115 -2.07629 10.6997 -5.89834 14.5872 l -34.3616 34.9766 c -4.89857 4.98657 -11.9952 7.14677 -18.8391 5.73052 c -6.84592 -1.41421 -12.5048 -6.20635 -15.0273 -12.7269 l -74.3729 -192.262 l -199.609 -85.7428 c -6.22784 -2.67595 -10.7386 -8.2458 -12.0597 -14.8942 c -1.32109 -6.64842 0.716314 -13.5199 5.44808 -18.3745 l 34.2235 -35.1014 c 4.11778 -4.22114 9.86569 -6.46525 15.7384 -6.18691 l 209.368 10.2535 l 117.924 -144.683 L 79.2888 321.167 c -6.80908 -2.16429 -12.0095 -7.70345 -13.7358 -14.6353 c -1.72836 -6.93188 0.264013 -14.2639 5.26184 -19.3691 l 65.3862 -66.781 c 4.37463 -4.46673 10.5431 -6.69652 16.7628 -6.07844 l 469.724 47.2952 l 133.107 -133.417 c 53.0175 -53.6386 103.834 -62.0584 129.411 -62.0584 c 0.12689 0 0.252757 0 0.379647 0 c 23.7428 0 44.7318 7.025 56.2041 18.4963 c 27.704 27.7029 26.3286 106.727 -48.3021 182.863 c -0.052189 0.054235 -0.104377 0.155543 -0.158612 0.207731 L 759.047 401.755 l 37.5707 466.418 c 0.477884 5.93927 -1.64138 11.8008 -5.81033 16.0557 l -65.4251 66.782 C 721.464 955.009 716.146 957.19 710.684 957.19 Z M 585.288 507.942 c 1.93303 0 3.87731 0.271176 5.78066 0.829901 c 6.63614 1.94326 11.853 7.09049 13.8842 13.701 l 115.24 375.039 l 34.6553 -35.3726 l -37.5809 -466.544 c -0.484024 -6.02011 1.69971 -11.9471 5.97304 -16.2122 l 140.944 -140.691 c 34.5826 -35.3102 46.759 -66.2949 50.8819 -86.0744 c 5.08174 -24.3792 -0.685615 -36.9178 -2.38533 -38.7147 c -7.57247 -7.45581 -65.0291 -19.9668 -127.677 43.4567 c -0.026606 0.027629 -0.054235 0.056282 -0.082888 0.083911 L 644.896 297.59 c -4.36645 4.37054 -10.4664 6.55018 -16.6164 5.92699 l -469.596 -47.2798 l -35.0779 35.827 l 377.883 120.004 c 6.4939 2.06401 11.5449 7.20305 13.4902 13.7328 c 1.94735 6.52767 0.534166 13.5946 -3.76781 18.8749 L 367.604 620.872 c -4.13006 5.06946 -10.4183 7.86001 -16.9552 7.55302 l -210.49 -10.3078 l -6.83978 7.01476 l 180.036 77.3333 c 5.08379 2.18373 9.07263 6.32301 11.0691 11.4825 l 65.9848 170.579 l 6.03853 -6.14598 l -1.68846 -205.676 c -0.050142 -6.10607 2.61352 -11.9184 7.27264 -15.8653 l 169.953 -144.018 C 575.748 509.629 580.478 507.942 585.288 507.942 Z',
                    symbolSize: 18,
                },
            }
        ]
    });

});

</script>

<template>
    <div class="box4" ref="map">
        map
    </div>
</template>

<style lang="scss" scoped></style>
